{"version":3,"sources":["../src/hooks/useLobby.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport useHuddle01 from './useHuddle01';\n\nexport const useLobby = (props?: {\n  onLobbyPeersUpdated: (lobbyPeers: string[]) => void;\n}) => {\n  const { huddleClient } = useHuddle01();\n\n  const [lobbyPeersIds, setLobbyPeersIds] = useState<string[]>(\n    huddleClient.room.lobbyPeerIds,\n  );\n\n  useEffect(() => {\n    const room = huddleClient.room;\n\n    const handleNewLobbyPeers = (lobbyPeerIds: string[]) => {\n      setLobbyPeersIds(lobbyPeerIds);\n\n      if (props?.onLobbyPeersUpdated) {\n        props.onLobbyPeersUpdated(lobbyPeerIds);\n      }\n    };\n\n    room.on('lobby-peers-updated', handleNewLobbyPeers);\n\n    return () => {\n      room.off('lobby-peers-updated', handleNewLobbyPeers);\n    };\n  }, []);\n\n  const admitPeer = huddleClient.room.admitPeer;\n\n  const denyPeer = huddleClient.room.denyPeer;\n\n  const getLobbyPeerMetadata = huddleClient.room.getLobbyPeerMetadata;\n\n  return { lobbyPeersIds, getLobbyPeerMetadata, admitPeer, denyPeer };\n};\n"],"mappings":";;;;;AAAA,SAAS,WAAW,gBAAgB;AAG7B,IAAM,WAAW,CAAC,UAEnB;AACJ,QAAM,EAAE,aAAa,IAAI,oBAAY;AAErC,QAAM,CAAC,eAAe,gBAAgB,IAAI;AAAA,IACxC,aAAa,KAAK;AAAA,EACpB;AAEA,YAAU,MAAM;AACd,UAAM,OAAO,aAAa;AAE1B,UAAM,sBAAsB,CAAC,iBAA2B;AACtD,uBAAiB,YAAY;AAE7B,UAAI,OAAO,qBAAqB;AAC9B,cAAM,oBAAoB,YAAY;AAAA,MACxC;AAAA,IACF;AAEA,SAAK,GAAG,uBAAuB,mBAAmB;AAElD,WAAO,MAAM;AACX,WAAK,IAAI,uBAAuB,mBAAmB;AAAA,IACrD;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,QAAM,YAAY,aAAa,KAAK;AAEpC,QAAM,WAAW,aAAa,KAAK;AAEnC,QAAM,uBAAuB,aAAa,KAAK;AAE/C,SAAO,EAAE,eAAe,sBAAsB,WAAW,SAAS;AACpE;","names":[]}