{"version":3,"sources":["../src/hooks/useLocalMedia.ts"],"sourcesContent":["import useHuddle01 from './useHuddle01';\nimport type { AppData } from 'mediasoup-client/lib/types';\n\nexport const useLocalMedia = () => {\n  const { huddleClient } = useHuddle01();\n\n  const localPeer = huddleClient.localPeer;\n\n  const fetchStream = async (data: {\n    mediaDeviceKind: 'mic' | 'cam';\n  }) => {\n    const fetchedStream = await localPeer.deviceHandler.fetchStream({\n      mediaDeviceKind: data.mediaDeviceKind,\n    });\n\n    return fetchedStream;\n  };\n\n  const produceStream = (data: {\n    stream: MediaStream;\n    label: string;\n    appData: AppData;\n  }) => {\n    const producing = localPeer.produce({\n      label: data.label,\n      stream: data.stream,\n      appData: data.appData,\n    });\n\n    return producing;\n  };\n\n  const stopProducing = (label: 'mic' | 'cam' | 'speaker' | string) => {\n    const stoppedProducing = localPeer.stopProducing({ label });\n    return stoppedProducing;\n  };\n\n  return {\n    fetchStream,\n    produceStream,\n    stopProducing,\n  };\n};\n"],"mappings":";;;;;AAGO,IAAM,gBAAgB,MAAM;AACjC,QAAM,EAAE,aAAa,IAAI,oBAAY;AAErC,QAAM,YAAY,aAAa;AAE/B,QAAM,cAAc,OAAO,SAErB;AACJ,UAAM,gBAAgB,MAAM,UAAU,cAAc,YAAY;AAAA,MAC9D,iBAAiB,KAAK;AAAA,IACxB,CAAC;AAED,WAAO;AAAA,EACT;AAEA,QAAM,gBAAgB,CAAC,SAIjB;AACJ,UAAM,YAAY,UAAU,QAAQ;AAAA,MAClC,OAAO,KAAK;AAAA,MACZ,QAAQ,KAAK;AAAA,MACb,SAAS,KAAK;AAAA,IAChB,CAAC;AAED,WAAO;AAAA,EACT;AAEA,QAAM,gBAAgB,CAAC,UAA8C;AACnE,UAAM,mBAAmB,UAAU,cAAc,EAAE,MAAM,CAAC;AAC1D,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;","names":[]}