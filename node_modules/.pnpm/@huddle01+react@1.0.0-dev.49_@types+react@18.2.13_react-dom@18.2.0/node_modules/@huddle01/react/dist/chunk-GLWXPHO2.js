import {
  useHuddle01_default
} from "./chunk-B6M254MV.js";

// src/hooks/useDataMessage.ts
import { useCallback, useEffect } from "react";
var useDataMessage = (props) => {
  const { huddleClient } = useHuddle01_default();
  const localPeer = huddleClient.localPeer;
  const sendData = localPeer.sendData;
  const handleNewMessage = useCallback(
    (data) => {
      if (props?.onMessage)
        props.onMessage(data.payload, data.from, data.label);
    },
    [props?.onMessage]
  );
  useEffect(() => {
    localPeer.on("receive-data", handleNewMessage);
    return () => {
      localPeer.off("receive-data", handleNewMessage);
    };
  }, [props?.onMessage]);
  return {
    sendData
  };
};

export {
  useDataMessage
};
//# sourceMappingURL=chunk-GLWXPHO2.js.map