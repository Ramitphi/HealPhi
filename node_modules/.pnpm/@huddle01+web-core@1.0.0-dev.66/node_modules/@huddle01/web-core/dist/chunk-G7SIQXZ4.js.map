{"version":3,"sources":["../src/helpers/index.ts"],"sourcesContent":["import { MediaKind } from 'mediasoup-client/lib/RtpParameters';\n\nexport const getMediaStreamKind = (stream: MediaStream) => {\n  let kind: MediaKind | null = null;\n\n  const tracks = stream.getTracks();\n\n  for (const track of tracks) {\n    if (track.kind === 'audio') {\n      kind = 'audio';\n      break;\n    } else if (track.kind === 'video') {\n      kind = 'video';\n      break;\n    }\n  }\n\n  if (!kind) {\n    throw new Error('Stream Kind Not Found');\n  }\n\n  return kind;\n};\n\nexport const getMediaDeviceKind = (track: MediaStreamTrack) => {\n  if (track.kind === 'audio') {\n    return 'mic';\n  } else if (track.kind === 'video') {\n    const settings = track.getSettings();\n    if (settings.displaySurface) {\n      return 'screen';\n    } else {\n      return 'cam';\n    }\n  }\n\n  return 'cam';\n};\n\nexport const getMediaTrack = (data: {\n  stream: MediaStream;\n  kind: MediaKind;\n}) => {\n  const { stream, kind } = data;\n\n  const tracks = stream.getTracks();\n\n  for (const track of tracks) {\n    if (track.kind === kind) {\n      return track;\n    }\n  }\n\n  throw new Error('Track Not Found');\n};\n\nexport const estimateSize = (obj: unknown) => {\n  const str = JSON.stringify(obj);\n\n  return new TextEncoder().encode(str).length;\n};\n"],"mappings":";AAEO,IAAM,qBAAqB,CAAC,WAAwB;AACzD,MAAI,OAAyB;AAE7B,QAAM,SAAS,OAAO,UAAU;AAEhC,aAAW,SAAS,QAAQ;AAC1B,QAAI,MAAM,SAAS,SAAS;AAC1B,aAAO;AACP;AAAA,IACF,WAAW,MAAM,SAAS,SAAS;AACjC,aAAO;AACP;AAAA,IACF;AAAA,EACF;AAEA,MAAI,CAAC,MAAM;AACT,UAAM,IAAI,MAAM,uBAAuB;AAAA,EACzC;AAEA,SAAO;AACT;AAEO,IAAM,qBAAqB,CAAC,UAA4B;AAC7D,MAAI,MAAM,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT,WAAW,MAAM,SAAS,SAAS;AACjC,UAAM,WAAW,MAAM,YAAY;AACnC,QAAI,SAAS,gBAAgB;AAC3B,aAAO;AAAA,IACT,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AAEA,SAAO;AACT;AAEO,IAAM,gBAAgB,CAAC,SAGxB;AACJ,QAAM,EAAE,QAAQ,KAAK,IAAI;AAEzB,QAAM,SAAS,OAAO,UAAU;AAEhC,aAAW,SAAS,QAAQ;AAC1B,QAAI,MAAM,SAAS,MAAM;AACvB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,QAAM,IAAI,MAAM,iBAAiB;AACnC;AAEO,IAAM,eAAe,CAAC,QAAiB;AAC5C,QAAM,MAAM,KAAK,UAAU,GAAG;AAE9B,SAAO,IAAI,YAAY,EAAE,OAAO,GAAG,EAAE;AACvC;","names":[]}